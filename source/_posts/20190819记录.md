---
title: 20190819记录
date: 2019-08-20 16:03:16
tags: 工作记录
---

# 0820

提交一版Sample测试

待办：

- [x] 回放模块中添加对旧操作步骤的支持
- [x] Sample测试中加ign文件
- [x] Capture模块使用的保存路径
- [x] 删除旧的Sample测试
- [ ] Test_Module加超时控制、删除测试exe（集成测试再修改）
- [ ] 自动对比文件夹
- [ ] string扩展% switch
- [ ] 自动测试结果自成一个文件夹，不应外面控制
- [ ] 把超时控制加到自动测试入口（修改e之后的时间）
- [x] 超时没有退出（step为nil，timer无效）
- [ ] 合并材质检查分支
- [ ] 导出测试模块在fancy-sample下测试
- [x] 第一次设置callback后print全到了一个
- [ ] 在res/sample目录多生成文件夹



回放功能单元测试

测试的情况：

1. error报错：测试error.txt

2. print：测试log.txt

3. 没有lua文件：不生成结果

4. 没有操作步骤：不生成结果

5. 老的ops操作步骤：测试截图
6. app回调的操作步骤：测试对应步骤截图
7. msg类型的操作步骤：测试对应步骤截图



模块中添加结束的回调，在单元测试中回调函数执行下一个测试

超时后执行enReplay



# 0822

- [ ] sample测试，对于没有oplua的直接返回（或者输出一个总信息）
- [x] 有oplua没lua执行，输出error结果
- [x] sample测试slave-8000ms控制，实际可能跑8000/100步
- [ ] 重写导出基本文件的东西，比如code

问题：

- [ ] sample_slave：file-luafile
- [ ] _G.print
- [ ] sample测试的sample改写
- [ ] 查忽略文件是否被忽略
- [ ] toonlight
- [ ] 总体跑不一样，单个跑一样

写例子

![1566535737036](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\1566535737036.png)

红框报错、黄色一直刷报错

# 0823

增加单元测试

onError下一帧捕获错误？不对

调整sample的单元测试

error则退出（测试可以，回放单元测试有问题）

# 0824

一次error调用两次OnErrorCallback

1. 时间
2. 文本（这里Invoke两次）

总共执行三次lua注册的回调函数



解决回放模块error的问题

添加一个保护状态

state {INIT, RUNNING, END}

用函数控制state，也方便在函数中添加对**状态转换**的控制，保证逻辑



自动测试：

fancy-module

1. 测试模块
   - 录制模块（拖文件夹）
   - 测试模块（测试所有）
2. 测试sample
   - 录制（拖拽文件，保存在fancy-sample下面）
   - 测试（给定fancy-sample地址、两个fob地址）
3. 



待办：

- [ ] 合并材质检查分支
- [ ] 添加测试模块的入口
- [ ] 整理资源检查模块
- [ ] 整理文件夹对比模块
- [ ] 





lua软渲染：

二维直线，颜色渐变









孔子学生统计

称呼、姓、名、字、国、年龄+

# 总结

问问题过程：不敢问-问-不知问什么-思考真正的问题-问

首先知道自己要问的是什么



做东西，先有方案，初步的执行步骤，找人碰方案

确认没有问题再继续



给出建议，不要直接点头或接受，先明白是为什么，如果不明白，先问清楚为什么这么做。



注意把控自己代码的质量，认真去做

有时间观念

平白多干几个小时，其实没有什么进度





# 周日 0825

待办：

1. 搞定github博客框架改动
2. 本地记录的博客调整好（框架、主题、文章结构）
3. 论语别裁一看完
4. lua软渲染
5. 写周报



搭建遇到的问题：

4. git中可以直接加如子项目

   即git仓库可以嵌套

   相当于在项目中包含了一个子模块的版本控制指针，项目中实际上并没有这个内容

   ![1566724273431](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\1566724273431.png)

   ![1566725941936](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\1566725941936.png)

   ![1566725971896](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\1566725971896.png)

5. 




预算：

耳机200

六七七100



9月预算：

请平凉小朋友吃饭500

房租4000

吃饭1500

茹：吃饭

保险1000



电脑

surface go（ipad）

远程