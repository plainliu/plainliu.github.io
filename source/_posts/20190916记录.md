---
title: 20190909记录
date: 2019-09-09 10:43:00
tags:
- 记录
---

# 0916

## 待提交

### 1 rdsetting提取

- 提取成模块，修改成require（删除lib中的文件）

- 单元测试

- 修改模块中内容

  - 模块内部重构rdsetting模块
  - 将color相关方法放color模块等

  - （取消db的useRDSetting
  - 将全局postSetting换成局部post对象
  - post沿用后处理对象，单独分成一个文件

- 

### 2 edge编辑界面替换

- 将edgesetting移出来成为单独模块
- 加metaData
- 换到编辑器中

## sample单元测试

onIdle传参数

# 0917

## 控制台输出增加颜色

## 资源检查

# 0918

## 检查特效

**见不贤而内自省**

- 将直接可以使用的变量拿到后，中间赋值给新声明的变量再使用新变量

- 间隔十行以内，写两次如下的设置

  `_sys.showStat = false _sys.showVersion = false`

- 定义的诸多变量为_G的，除此之外函数封装性不好，在不同函数中操作同一个在函数外定义的变量，有不少这样的变量

- 退出的回调中只有打印（退出后看不到打印了啊）

- 命名不清晰，比如命名folders，其实内容为files；

  命名大量使用通用的list，tb，table，for (i, v)，阅读不清晰

- 不同文件之间传参数用字符串，这边拼接，那边解析字符串（结构混乱）

- 局部定义的与全局变量名相同（file）

- 变量参与一通运算，最后没有使用该结果

- pfx和player，全局和局部重复声明对象，做同样的事，冗余

- 如`v[1] .. '\t' .. v[2] .. '\t\t' .. v[6] .. '\t' .. v[7] .. '\t' .. v[3] .. '\t' .. v[4] .. '\t' .. v[5]`这般拼接的字符串让人摸不着头脑

# 0919

重写检查特效PD的子模块

提交一版

#15299 【F3D】【场景】直接使用快捷键Ctrl + v编辑器报错

# 0920

## 资源检查-拆子模块

1. 功能拆子模块
2. 验证总单元测试通过
3. 拆分单元测试（分散资源和测试代码）
   - checklost的场景文件有缺失没有检测出来
4. 提交第一版后继续内容的修改
5. 修改rcf入口的方法复制方式
6. 删总的单元测试

# 0921

## 优化（暂停）

1. 找所用时间最长的阶段
2. 优化时间占比最大的部分

## 编辑器属性面板

生效方式：

1. set方法中添加onValueChanged事件，去更新rd的属性值
2. 在dataProvider层上添加一个监听者

（讨论结果：使用第一种）