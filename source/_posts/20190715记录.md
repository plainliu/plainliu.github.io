# 0715

测试模块

讨论方案

# 0716

## 讨论 模块化TODO 5/8/10

### 5 滑动条最大值最小值没有地方设置

1. 目前不能设置滑动条的范围。滑动条的默认范围（0-100），对于具体的属性，比如新草的高宽比范围（0-1）不能设置。
2. 经验范围/实际范围。滑动条的范围与input框输入可起效的范围之间是否固定对应。



### 10 数据可不可编辑的状态目前还不能设置

比如天光的方向，在老编辑器中ui上的值为只读的属性，方向改变靠方向指示器

新结构中number为滑动条修改属性值，对于不可编辑的不能设置



### 8 场景的几个vignetteSetting的解决方法

（阴影、虚光、后处理、描边……）

**引擎：**

属于_rd 的属性，列在 _rd 的根目录下

**编辑器：**

每一个场景保存一份数据，保存在RDSetting的lua文件中，在编辑当前场景时，同时更改 _rd的属性和setting对应的数据。

**问题：**

在新的结构中，ui和一份数据对应，不能同时修改场景的数据，和用来起效果的 _rd属性



**例子：**

**1. 虚光**

引擎中：如属性 _rd.vignetteFactor

![1563432889337](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\1563432889337.png)

场景：

vignetteSetting = {vignette = false, vignetteImage = '', vignetteWeight = 1, vignetteOffset = 0, vignetteFactor = 1, vignettePow = 0}

老编辑器：

![1563433749519](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\1563433749519.png)

新结构中：

ui和vignetteSetting绑定，改变vignetteSetting 的数据，但是不能起效果



**解决方案**

1. 引擎封装。

   封装虚光为一个新的类，场景有虚光属性

2. 新结构中构造新的类实现

   构造一个新的虚光类（类属性的变化与起效果之间的矛盾）



# 0719

1. lua例子

   res：编辑器创建新场景

   脚本：

   - 给地形添加纹理贴图，改变纹理贴图的UV缩放系数

   - 在环境中增加混合即时光设置的开关

   - 复现问题

2. 联调

   修改3D调试工作目录，用第一步的例子再次复现问题

3. 找关键代码

4. 改bug

5. 测试

6. 检查代码、提交

